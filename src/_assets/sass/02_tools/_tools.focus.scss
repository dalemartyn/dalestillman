/**
 * Helper mixin to add focus visible styles using the focus-visible polyfill.
 *
 * Note:
 *  Libsass has an issue with `selector-unity` if relationship
 *  selectors are used. e.g. `.c-site-menu__item > a`.
 *  So only use on direct selectors.
 */
@mixin focus-style {
  $current_selector: &;

  @at-root {

    .js-focus-visible {

      #{selector-unify($current_selector, ".focus-visible")} {
        @content;
      }
    }
  }

}

@mixin focused-text-styles {
  outline: none;
  color: sem-color(text) !important;
  box-shadow: 0 0 0 sp(-5) sem-color(link);
  border-radius: 1px;
  background-color: sem-color(link, .375);
  text-decoration: none !important;

  > * {
    text-decoration: none !important;
    color: sem-color(text) !important;
  }
}


@mixin focused-text {
  @include focus-style {
    @include focused-text-styles;
  }
}
